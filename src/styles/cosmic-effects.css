/* Cosmic Animations and Effects for Production Environment
   These styles add advanced animations and visual effects for the enhanced chart visualization */

@keyframes float {
  0% {
    transform: translateY(0px) translateX(0px);
  }
  25% {
    transform: translateY(-5px) translateX(3px);
  }
  50% {
    transform: translateY(0px) translateX(0px);
  }
  75% {
    transform: translateY(5px) translateX(-3px);
  }
  100% {
    transform: translateY(0px) translateX(0px);
  }
}

@keyframes twinkle {
  0%, 100% {
    opacity: 0.2;
  }
  50% {
    opacity: 0.8;
  }
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
    opacity: 0.7;
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

/* Star twinkling effect */
.stars-backdrop .star {
  animation: twinkle 3s infinite ease-in-out;
  animation-delay: calc(var(--star-index, 0) * 0.5s);
}

/* Cosmic particles animation */
.cosmic-particles {
  animation: float 60s infinite linear;
}

/* Enhanced planet styling */
.enhanced-mode .planet-body,
.mode-3d .planet-body {
  animation: pulse 4s infinite ease-in-out;
  animation-delay: calc(var(--planet-index, 0) * 0.7s);
}

/* Enhanced tooltip transitions */
.planet-tooltip {
  transition: opacity 0.2s ease-in-out, transform 0.2s ease-in-out;
}

.enhanced-tooltip,
.mode-3d-tooltip {
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

/* Zoom animation */
.chart-visualization.zoomed .chart-svg {
  transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* Specific planet styles for enhanced modes */
.enhanced-mode .planet.sun .planet-body,
.mode-3d .planet.sun .planet-body {
  animation: pulse 3s infinite ease-in-out;
  filter: drop-shadow(0 0 5px rgba(255, 215, 0, 0.7));
}

.enhanced-mode .planet.moon .planet-body,
.mode-3d .planet.moon .planet-body {
  animation: pulse 5s infinite ease-in-out;
  filter: drop-shadow(0 0 3px rgba(230, 230, 250, 0.5));
}

/* Chart glow effect */
.chart-glow {
  transition: opacity 0.3s ease;
}

.zoomed .chart-glow {
  opacity: 0.5 !important;
}

/* Ascendant line effects */
.ascendant-line {
  transition: stroke-width 0.3s ease;
}

.zoomed .ascendant-line {
  stroke-width: 3px;
}

/* Support for browsers without backdrop-filter */
@supports not (backdrop-filter: blur(4px)) {
  .enhanced-tooltip,
  .mode-3d-tooltip,
  .chart-control-btn {
    background-color: rgba(20, 30, 60, 0.95) !important;
  }
}

/* Test mode indicators - only visible when data-test-visible="true" */
.render-mode-indicator {
  opacity: 0.3;
  transition: opacity 0.2s ease;
}

[data-test-visible="true"] .render-mode-indicator {
  opacity: 1;
  background-color: rgba(0, 0, 0, 0.1);
  padding: 2px 5px;
  border-radius: 3px;
}
